{
    "bookSourceComment": "需登录",
    "bookSourceGroup": "TOP50",
    "bookSourceName": "移动阅读",
    "bookSourceType": 0,
    "bookSourceUrl": "http://m.ndlib.cn",
    "bookUrlPattern": "",
    "customOrder": 1471,
    "enabled": true,
    "enabledCookieJar": false,
    "enabledExplore": true,
    "exploreUrl": "[{'title':'◎    图书    ◎','url':'','style':{layout_flexGrow: 1,layout_flexBasisPercent:1}},\n{'title':'外文','url':'/findBookPart.html?resType=1&categoryId=985&categoryName=外文&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.2}},\n{'title':'哲学','url':'/findBookPart.html?resType=1&categoryId=983&categoryName=哲学&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.2}},\n{'title':'科幻','url':'/findBookPart.html?resType=1&categoryId=500&categoryName=科幻&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.2}},\n{'title':'国学','url':'/findBookPart.html?resType=1&categoryId=501&categoryName=国学&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.2}},\n{'title':'社科','url':'/findBookPart.html?resType=1&categoryId=263&categoryName=社科&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.2}},\n{'title':'教育','url':'/findBookPart.html?resType=1&categoryId=492&categoryName=教育&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.2}},\n{'title':'体育','url':'/findBookPart.html?resType=1&categoryId=495&categoryName=体育&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.2}},\n{'title':'文化','url':'/findBookPart.html?resType=1&categoryId=987&categoryName=文化&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.2}},\n{'title':'军事','url':'/findBookPart.html?resType=1&categoryId=499&categoryName=军事&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.2}},\n{'title':'传记','url':'/findBookPart.html?resType=1&categoryId=494&categoryName=传记&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.2}},\n{'title':'影视','url':'/findBookPart.html?resType=1&categoryId=856&categoryName=影视&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.2}},\n{'title':'党建','url':'/findBookPart.html?resType=1&categoryId=901&categoryName=党建&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.2}},\n{'title':'纪实','url':'/findBookPart.html?resType=1&categoryId=493&categoryName=纪实&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.2}},\n{'title':'科普','url':'/findBookPart.html?resType=1&categoryId=1224&categoryName=科普&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.2}},\n{'title':'文学','url':'/findBookPart.html?resType=1&categoryId=262&categoryName=文学&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.2}},\n{'title':'历史','url':'/findBookPart.html?resType=1&categoryId=261&categoryName=历史&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.2}},\n{'title':'生活','url':'/findBookPart.html?resType=1&categoryId=496&categoryName=生活&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.2}},\n{'title':'职场','url':'/findBookPart.html?resType=1&categoryId=498&categoryName=职场&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.2}},\n{'title':'综合','url':'/findBookPart.html?resType=1&categoryId=502&categoryName=综合&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.2}},\n{'title':'经管','url':'/findBookPart.html?resType=1&categoryId=497&categoryName=经管&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.2}},\n{'title':'政法','url':'/findBookPart.html?resType=1&categoryId=981&categoryName=政法&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.2}},\n{'title':'宗教','url':'/findBookPart.html?resType=1&categoryId=984&categoryName=宗教&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.2}},\n{'title':'少儿','url':'/findBookPart.html?resType=1&categoryId=1144&categoryName=少儿&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.2}},\n{'title':'漫画','url':'/findBookPart.html?resType=1&categoryId=986&categoryName=漫画&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.2}},\n{'title':'自然科学','url':'/findBookPart.html?resType=1&categoryId=982&categoryName=自然科学&page={{java.put(\"page\",page)}}','style':{layout_flexBasisPercent:0.215}},\n{'title':'百部经典','url':'/findBookPart.html?resType=1&categoryId=941&categoryName=百部经典&page={{java.put(\"page\",page)}}','style':{layout_flexBasisPercent:0.215}},\n{'title':'◎    音频    ◎','url':'','style':{layout_flexGrow: 1,layout_flexBasisPercent:1}},\n{'title':'评书','url':'/findBookPart.html?resType=1&categoryId=770&categoryName=评书&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.25}},\n{'title':'戏曲','url':'/findBookPart.html?resType=1&categoryId=771&categoryName=戏曲&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.25}},\n{'title':'传记','url':'/findBookPart.html?resType=1&categoryId=1192&categoryName=传记&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.25}},\n{'title':'相声','url':'/findBookPart.html?resType=1&categoryId=779&categoryName=相声&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.25}},\n{'title':'欧美经典','url':'/findBookPart.html?resType=1&categoryId=128&categoryName=欧美经典&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.25}},\n{'title':'国学启蒙','url':'/findBookPart.html?resType=1&categoryId=768&categoryName=国学启蒙&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.25}},\n{'title':'中外小说','url':'/findBookPart.html?resType=1&categoryId=764&categoryName=中外小说&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.25}},\n{'title':'中外童话','url':'/findBookPart.html?resType=1&categoryId=763&categoryName=中外童话&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.25}},\n{'title':'世界名曲','url':'/findBookPart.html?resType=1&categoryId=847&categoryName=世界名曲&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.25}},\n{'title':'惊悚悬疑','url':'/findBookPart.html?resType=1&categoryId=773&categoryName=惊悚悬疑&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.25}},\n{'title':'经管励志','url':'/findBookPart.html?resType=1&categoryId=776&categoryName=经管励志&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.25}},\n{'title':'文学经典','url':'/findBookPart.html?resType=1&categoryId=1193&categoryName=文学经典&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.25}},\n{'title':'幽默笑话','url':'/findBookPart.html?resType=1&categoryId=765&categoryName=幽默笑话&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.25}},\n{'title':'人文社科','url':'/findBookPart.html?resType=1&categoryId=775&categoryName=人文社科&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.25}},\n{'title':'少儿故事','url':'/findBookPart.html?resType=1&categoryId=846&categoryName=少儿故事&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.25}},\n{'title':'育儿教育','url':'/findBookPart.html?resType=1&categoryId=1194&categoryName=育儿教育&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.25}},\n{'title':'中国名曲','url':'/findBookPart.html?resType=1&categoryId=849&categoryName=中国名曲&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.25}},\n{'title':'中外寓言','url':'/findBookPart.html?resType=1&categoryId=762&categoryName=中外寓言&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.25}},\n{'title':'英语有声名著','url':'/findBookPart.html?resType=1&categoryId=766&categoryName=英语有声名著&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.25}},\n{'title':'音乐名家专辑','url':'/findBookPart.html?resType=1&categoryId=848&categoryName=音乐名家专辑&page={{java.put(\"page\",page)}}','style':{layout_flexGrow: 1,layout_flexBasisPercent:0.25}}\n]",
    "header": "",
    "lastUpdateTime": 1628346441290,
    "loginUrl": "http://m.ndlib.cn",
    "respondTime": 2369,
    "ruleBookInfo": {
        "intro": "",
        "name": ""
    },
    "ruleContent": {
        "content": "$.returnObject[0].content||$.returnObject.content||$.returnObject.url||$.returnObject\n@js:\nif('{{$.resultCode}}'==\"1000\" || '{{$.resultCode}}'.match(/^500/)){result=result}else{result='无法获取内容？请登录后，返回详情页刷新书籍，然后刷新正文'}\nif(java.get('type')=='4'){\nif(book.type=='0'){\nresult='这是音频文件，请将书源类型改为音频后保存，返回详情页刷新，或者退出重新进入【注：阅读本源其他书籍时记得改回文本类型】'+result;\n}else{result=result}\n}",
        "imageStyle": "0",
        "webJs": ""
    },
    "ruleExplore": {
        "bookList": ""
    },
    "ruleSearch": {
        "author": "$.resourceInfo.author||$.magInfo.company",
        "bookList": "<js>\n//DES加密开始\nvar javaImport = new JavaImporter();\njavaImport.importPackage(\n     Packages.java.lang,\n    Packages.javax.crypto.spec,\n    Packages.javax.crypto,\n    Packages.android.util  \n);\nwith(javaImport){\nfunction encryptByDES(massage, keydata) {\n        let cipher = Cipher.getInstance(\"DES\");\n        let keySpec = new DESKeySpec(String(keydata).getBytes());\n         let keyFactory = SecretKeyFactory.getInstance(\"DES\");\n         let key = keyFactory.generateSecret(keySpec);      \n        cipher.init(Cipher.ENCRYPT_MODE, key);\n        return Base64.encodeToString(cipher.doFinal(String(massage).getBytes()),Base64.NO_WRAP)\n}\n}\n//DES加密结束\n\nvar deskey = 'web@hzlq';\nvar userId='0';\nfunction getPostUrl(data,type) {\nvar url = 'http://m.ndlib.cn/nlc_read_home/service.do,';\nvar md5Key = 'library_2016@hzlq';\nvalue = {\n    siteId: 1,\n    data:String(encryptByDES(JSON.stringify(data), deskey)),\n    userId: userId,\n    fromSource: 3,\n    osType: 5,\n    version: \"1.0.1\",\n    versionCode: 10001,\n    timeStamp: data.timeStamp,\n    hashCode: String(java.md5Encode(data.timeStamp + md5Key))\n}\nvar option={\n\"method\":\"POST\",\n\"body\":'cmd='+type+'&value=' + encodeURIComponent(JSON.stringify(value))\n}\nreturn url + JSON.stringify(option);\n}\nvar data ={\n    timeStamp:Date.now(),\n    bigType:\"0\",\n    pageSize:100,\n    pageNum:parseInt(java.get('page'))\n};\n\nif(baseUrl.match(/categoryId/)){\ndata.categoryId=baseUrl.match(/categoryId=(\\d+)/)[1];\nurl=getPostUrl(data,'qryCategoryResList')\n}else{\ndata.content=String(java.get('key'));\nurl=getPostUrl(data,'qrySearchList')\n}\n\njava.ajax(url)\n</js>\n$.returnObject.resAndMagResult[*]||$.returnObject[*]\n<js>\nlist=result.toArray();\nlist1=[];\nfor(i in list){\nif(String(list[i]).indexOf(java.get('key'))>-1){\nlist1.push(list[i])\n}\n}\nlist1.map(x=>x)</js>",
        "bookUrl": "$.resourceInfo.resId||$.magInfo.magId@js:\n//DES加密开始\nvar javaImport = new JavaImporter();\njavaImport.importPackage(\n     Packages.java.lang,\n    Packages.javax.crypto.spec,\n    Packages.javax.crypto,\n    Packages.android.util  \n);\nwith(javaImport){\nfunction encryptByDES(massage, keydata) {\n        let cipher = Cipher.getInstance(\"DES\");\n        let keySpec = new DESKeySpec(String(keydata).getBytes());\n         let keyFactory = SecretKeyFactory.getInstance(\"DES\");\n         let key = keyFactory.generateSecret(keySpec);      \n        cipher.init(Cipher.ENCRYPT_MODE, key);\n        return Base64.encodeToString(cipher.doFinal(String(massage).getBytes()),Base64.NO_WRAP)\n}\n}\n//DES加密结束\nvar deskey = 'web@hzlq';\nvar userId='0';\nfunction getPostUrl(data,type) {\nvar url = 'http://m.ndlib.cn/nlc_read_home/service.do,';\nvar md5Key = 'library_2016@hzlq';\nvalue = {\n    siteId: 1,\n    data: String(encryptByDES(JSON.stringify(data), deskey)),\n    userId: userId,\n    fromSource: 3,\n    osType: 5,\n    version: \"1.0.1\",\n    versionCode: 10001,\n    timeStamp: data.timeStamp,\n    hashCode: String(java.md5Encode(data.timeStamp + md5Key))\n}\nvar option={\n\"method\":\"POST\",\n\"body\":'cmd='+type+'&value=' + encodeURIComponent(JSON.stringify(value))\n}\nreturn url + JSON.stringify(option);\n}\nvar data = {\n    timeStamp:Date.now(),\n    pageSize:10000,\n    pageNum:1\n};\n//目录链接生成\nif('{{$.magInfo.brandId}}'){\ndata.magId=result;\ngetPostUrl(data,'qryMagArticleList');\n}else{data.resourceId=result;getPostUrl(data,'qryChapterList');}",
        "coverUrl": "$.resourceInfo.coverUrl@put:{type:$.resourceInfo.type}",
        "intro": "$.resourceInfo.shortIntro||$.magInfo.description",
        "kind": "$.resourceInfo.categoryName||$.magInfo.categoryName",
        "lastChapter": "",
        "name": "{{$.resourceInfo.name}}{{$.magInfo.brandName&&$.magInfo.magName##\\n##•}}",
        "wordCount": ""
    },
    "ruleToc": {
        "chapterList": "$.returnObject[0].children||$.returnObject<js>\nvar userId=java.getCookie(\"http://m.ndlib.cn\",\"userId\");\nvar siteId=java.getCookie(\"http://m.ndlib.cn\",\"siteId\");\nvar wapToken=java.getCookie(\"http://m.ndlib.cn\",\"wapToken\");\nvar userId=userId;\nvar deskey = wapToken;\nvar siteId=siteId;\n\njava.put('userId',userId);\njava.put('deskey',deskey);\njava.put('siteId',siteId);\na=[{\"chapterName\":\"暂无目录\",\"chapterId\":\"000\"}];\nresult=result!=\"[]\"?result:JSON.stringify(a);\n</js>\n$.[*]",
        "chapterName": "$.chapterName||$.title",
        "chapterUrl": "$.chapterId||$.articleId@js:\n//DES加密开始\nvar javaImport = new JavaImporter();\njavaImport.importPackage(\n     Packages.java.lang,\n    Packages.javax.crypto.spec,\n    Packages.javax.crypto,\n    Packages.android.util  \n);\nwith(javaImport){\nfunction encryptByDES(massage, keydata) {\n        let cipher = Cipher.getInstance(\"DES\");\n        let keySpec = new DESKeySpec(String(keydata).getBytes());\n         let keyFactory = SecretKeyFactory.getInstance(\"DES\");\n         let key = keyFactory.generateSecret(keySpec);      \n        cipher.init(Cipher.ENCRYPT_MODE, key);\n        return Base64.encodeToString(cipher.doFinal(String(massage).getBytes()),Base64.NO_WRAP)\n}\n}\n//DES加密结束\nvar userId=String(java.get('userId'))?String(java.get('userId')):'0';\nvar deskey=String(java.get('deskey'))?String(java.get('deskey')):'web@hzlq';\nvar siteId=String(java.get('siteId'))?String(java.get('siteId')):'1';\n\n\nfunction getPostUrl(data,type) {\nvar url = 'http://m.ndlib.cn/nlc_read_home/service.do,';\nvar md5Key = 'library_2016@hzlq';\nvalue = {\n    siteId: siteId,\n    data: String(encryptByDES(JSON.stringify(data), deskey)),\n    userId: userId,\n    fromSource: 3,\n    osType: 5,\n    version: \"1.0.1\",\n    versionCode: 10001,\n    timeStamp: data.timeStamp,\n    hashCode: String(java.md5Encode(data.timeStamp + md5Key))\n}\nvar option={\n\"method\":\"POST\",\n\"body\":'cmd='+type+'&value=' + encodeURIComponent(JSON.stringify(value))\n}\nreturn url + JSON.stringify(option);\n}\nvar data = {\n    timeStamp:Date.now(),\n    uaInfo:'1',  \n    };\nif('{{$.articleId}}'){\ndata.articleId=result;\ngetPostUrl(data,'qryMagArticleDetail');\n}else{\ndata.chapterId=result;\nif(java.get('type')=='4'){\ngetPostUrl(data,'qryFileInfo');}\nelse{getPostUrl(data,'qryChapterDetails')}\n}",
        "updateTime": "$.addTime"
    },
    "searchUrl": "http://m.ndlib.cn/03/html/searchresult.html?search={{key}}type=0&page={{page}}\n@js:java.put('key',key);java.put('page',page)",
    "weight": 0
}